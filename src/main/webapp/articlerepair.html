<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>修改</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/route-detail.css">
    <link rel="stylesheet" type="text/css" href="css/articleOn.css">
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery-3.3.1.js"></script>
    <script>
        $(function (){
            var aid=getParameter("aid");
            $.post("article/findOne",{aid:aid},function(data){
                if(data){
                    $("#aname").val(data.aname);
                    $("#name").val(data.name);
                    $("#aInner").val(data.aInner);
                    switch (data.cid){
                        case 1:$("#cid1").attr("selected",true);break;
                        case 2:$("#cid2").attr("selected",true);break;
                        case 3:$("#cid3").attr("selected",true);break;
                        case 4:$("#cid4").attr("selected",true);break;
                        case 5:$("#cid5").attr("selected",true);break;
                        case 6:$("#cid6").attr("selected",true);break;
                        case 7:$("#cid7").attr("selected",true);break;
                        case 8:$("#cid8").attr("selected",true);break;
                        default:break;
                    }
                }
            })

            $("#sumbtn").click(function (){
                var aid=getParameter("aid");
                var aname=$("#aname").val();
                var name=$("#name").val();
                var aInner=$("#aInner").val();
                var cid=$("#cid").val();
                $.post("article/articleUpdate",{aid:aid,cid:cid,aname:aname,name:name,aInner:aInner},function (data){
                    location.href="http://localhost:8080/article/myarticle.html";
                })
            })
        })

    </script>
</head>

<body>
<!--引入头部-->
<div id="header"></div>
<!-- 详情 start -->
<div class="wrap">
    <div class="bread_box"><p class="takeOn">文章发布</p></div>
    <div class="container">
        <div class="prosum_box">
            <form role="form" id="formArticle" action="" accept-charset="utf-8">
                <div class="form-group">
                    <label for="aname">标题</label>
                    <input type="text" class="form-control" name="aname" id="aname" placeholder="文本输入">
                </div>
                <div class="form-group">
                    <label for="name">作者</label>
                    <input type="text" class="form-control" name="name" id="name" placeholder="文本输入">
                </div>
                <label for="cid">选择类型</label>
                <select class="form-control" id="cid" name="cid">
                    <option id="cid1" value="1">快讯</option>
                    <option id="cid2" value="2">民生</option>
                    <option id="cid3" value="3">旅游</option>
                    <option id="cid4" value="4">科技</option>
                    <option id="cid5" value="5">明星</option>
                    <option id="cid6" value="6">娱乐</option>
                    <option id="cid7" value="7">时政</option>
                    <option id="cid8" value="8">文言</option>
                </select>
                <div class="form-group">
                    <label for="aInner">正文</label>
                    <textarea class="form-control" rows="10" name="aInner" id="aInner"></textarea>
                </div>

                <button type="button" class="btn btn-success" id="sumbtn">提交</button>

            </form>
        </div>
    </div>


</div>
<!-- 详情 end -->

<!--引入头部-->
<div id="footer"></div>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery-3.3.1.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
<!--导入布局js，共享header和footer-->
<script type="text/javascript" src="js/include.js"></script>
<script src="js/getParameter.js"></script>
<script>

</script>
</body>

</html>